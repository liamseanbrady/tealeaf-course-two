<%= render 'shared/content_header', title: "Profile: #{@user.username}" %>

<div class="row">
  <div class="well span12">
    <dl class="dl-horizontal">
      <dt>
        username:
      </dt>
      <dd>
        <%= current_user.username %>
      </dd>
    </dl>
  </div>
</div>

<ul class='nav nav-tabs'>
  <li class="<%= 'active' if params[:tab].nil? %>">
    <%= link_to "Posts (#{@user.posts.size})", user_path(@user) %>
  </li>
  <li class="<%= 'active' if params[:tab] == 'comments' %>">
    <%= link_to "Comments (#{@user.comments.size})", user_path(@user, tab: 'comments') %>
  </li>
</ul>

<% if params[:tab].nil? %>
  <%= render @user.posts.sort_by{ |p| p.total_votes }.reverse %>
<% elsif params[:tab] == 'comments' %>
  <%= render @user.comments.sort_by{ |c| c.total_votes }.reverse, show_post: true %>
<% end %>